"use strict";(self.webpackChunkvoicevox_blog=self.webpackChunkvoicevox_blog||[]).push([[170],{1862:function(e,t,a){a.r(t);a(7207);var l=a(9417),s=a(7814),c=a(1883),r=a(8032),n=a(7294),i=a(3963),o=a(8058),m=a(4954),d=a(4001),u=a(1614),h=a(1261),E=a(3612),p=a(4484);t.default=e=>{var t,a,v;let{params:y}=e;const g=(0,c.useStaticQuery)("1982535941"),f=(0,n.useContext)(E.k),{characterInfos:b}=(0,p.H)(),{0:N,1:w}=(0,n.useState)(y.characterId),x=(0,n.useMemo)((()=>Object.entries(b).find((e=>{let[,t]=e;return(null==t?void 0:t.id)===N}))),[b,N]),O=(0,n.useMemo)((()=>x[0]),[x]),I=(0,n.useMemo)((()=>b[O]),[b,O]),V=I.voiceFeature?I.voiceFeature:"声",k="VOICEVOXは「"+I.name+"」の"+V+"で誰でも簡単に音声を作成できる、無料のテキスト読み上げソフトウェアです。"+(I.releaseDate?I.releaseDate+"にリリース予定。":""),{0:C,1:S}=(0,n.useState)(void 0);(0,n.useEffect)((()=>{document.documentElement.style.setProperty("--character-background-color",I.lightColor)}),[I]);const K=(0,n.useMemo)((()=>I.styleVoiceUrls.map((e=>e.style))),[I]),{selectedStyle:G,setSelectedStyle:X}=(0,h.G)({styles:K}),D=(0,n.useMemo)((()=>K.length>0?(I.styleVoiceUrls.find((e=>{let{style:t}=e;return t==G}))||I.styleVoiceUrls[0]).urls:void 0),[I,G]),{0:M,1:U}=(0,n.useState)({characterKey:O,ref:n.createRef(),state:"staying",direction:"left"}),{0:Z,1:j}=(0,n.useState)(void 0),{characterKeys:z}=(0,n.useContext)(E.K),A=z[(z.indexOf(O)+z.length-1)%z.length],L=z[(z.indexOf(O)+1)%z.length],F=(0,n.useCallback)((e=>{const t=b[e];w(t.id),X(t.styleVoiceUrls.length>0?t.styleVoiceUrls[0].style:void 0);const a=(z.indexOf(e)-z.indexOf(O)+z.length)%z.length<=z.length/2?"right":"left";j({...M,state:"leaving",direction:a}),U({characterKey:e,ref:n.createRef(),state:"entering",direction:a}),window.history.pushState({characterKey:e},"","/product/"+t.id+"/")}),[b]);(0,n.useEffect)((()=>{const e=e=>{var t,a;null!=(null===(t=e.state)||void 0===t?void 0:t.characterKey)&&(null===(a=e.state)||void 0===a?void 0:a.characterKey)!=O&&w(b[e.state.characterKey].id)};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}),[O]),(0,n.useEffect)((()=>{history.replaceState({characterKey:O},"")}),[]);const _=null===(t=g.thumbImage.nodes.find((e=>e.name==="thumb-"+N)))||void 0===t||null===(a=t.childImageSharp)||void 0===a?void 0:a.gatsbyImageData;if(null==_)throw new Error("thumb-"+N+" is not found");if(1!=g.featureImage.nodes.length)throw new Error("featureImage is not found");const R=g.featureImage.nodes[0].childImageSharp.gatsbyImageData;return n.createElement(o.T,null,n.createElement(d.Z,{title:"VOICEVOX "+I.name+" | 無料のテキスト読み上げソフトウェア",description:k,image:null===(v=_.images.fallback)||void 0===v?void 0:v.src}),n.createElement("main",{className:"product"},n.createElement("div",{className:"section py-0"},n.createElement("div",{className:"top container"},n.createElement("button",{className:"button prev circle-icon",onClick:()=>F(A),"aria-label":"前のキャラクターを表示"},n.createElement(s.G,{icon:l.O24})),n.createElement("button",{className:"button post circle-icon",onClick:()=>F(L),"aria-label":"次のキャラクターを表示"},n.createElement(s.G,{icon:l.AGj})),n.createElement("div",{className:"top-character"},[Z,M].map((e=>e&&n.createElement("div",{key:e.characterKey,ref:e.ref,className:"image-wrapper "+("staying"!=e.state&&e.state+"-"+e.direction)},n.createElement(r.G,{image:b[e.characterKey].portraitImage,alt:b[e.characterKey].name})))),n.createElement("div",{className:"info pb-5"},n.createElement("div",{className:"detail p-4"},n.createElement("p",null,I.description.replaceAll("<br />","")),n.createElement(c.Link,{to:"/dormitory/"+N+"/",className:"has-text-weight-bold has-text-black"},"キャラクター詳細　→")),K.length>0&&null!=D&&null!=G&&n.createElement("div",{className:"sample p-4"},n.createElement("h3",{className:"is-size-6"},"サンプルボイス"),n.createElement("div",{className:"is-flex is-flex-direction-row mt-2"},D.map(((e,t)=>n.createElement(m.Z,{key:t,url:e,name:I.name+"のサンプルボイス"+(t+1)+"}",color:I.color,className:"ml-1 mr-1"})))),K.length>1&&n.createElement(h.Z,{styles:K,selectedStyle:G,setSelectedStyle:X,characterName:I.name,className:"is-up mt-2"})))),n.createElement("div",{className:"description"},n.createElement("h1",{className:"title"},"VOICEVOX ",I.name),n.createElement("p",{className:"is-size-5"},k),null==I.releaseDate&&n.createElement("a",{className:"button mt-5 is-primary is-rounded is-large",onClick:()=>{f.downloadModal.show(),f.sendEvent("download","software")},target:"_blank",rel:"noreferrer",tabIndex:0},n.createElement("span",{className:"icon"},n.createElement(s.G,{icon:l.q7m})),n.createElement("span",{className:"has-text-weight-semibold"},n.createElement("span",{className:"is-hidden-mobile"},"VOICEVOX を "),"ダウンロード")),n.createElement("div",{className:"terms mt-5"},n.createElement(c.Link,{to:"/term/",className:"button is-normal is-rounded"},n.createElement("span",null,"VOICEVOX 利用規約")),I.policyUrl&&n.createElement("button",{onClick:()=>S(O),className:"button is-normal is-rounded",type:"button"},n.createElement("span",null,I.name," 利用規約")))))),n.createElement("section",{className:"section"},n.createElement("div",{className:"feature section",style:{display:"flex",flexDirection:"column",alignItems:"center"}},n.createElement("div",{className:"separator"},n.createElement("h2",{className:"separator-text title is-size-2 has-text-weight-bold px-5"},"VOICEVOX")),n.createElement("h3",{className:"separator-text is-size-5 has-text-weight-bold mt-5"},"無料で使える中品質なテキスト読み上げソフトウェア"),n.createElement("div",{className:"feature-content"},n.createElement(r.G,{image:R,alt:"VOICEVOXのソフトウェアの画面のスクリーンショット画像",objectFit:"contain",className:"thumb"}),n.createElement("div",{className:"description"},n.createElement(u.Z,null)))))),n.createElement(i.Z,Object.assign({hide:()=>S(void 0)},null!=C?{isActive:!0,characterKey:C}:{isActive:!1,characterKey:void 0})))}}}]);
//# sourceMappingURL=component---src-pages-product-character-character-id-tsx-79014d0da68b752eda82.js.map